(()=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){for(var a=0;a<e.length;a++){var r=e[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,n(r.key),r)}}function n(e){var n=function(e){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,"string");if("object"!=t(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==t(n)?n:n+""}var a=function(){return t=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ageTimer";!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.birthDate=new Date(e),this.element=document.getElementById(n),this.yearsElement=document.getElementById("years"),this.monthsElement=document.getElementById("months"),this.daysElement=document.getElementById("days"),this.yearsTextElement=document.getElementById("yearsText"),this.monthsTextElement=document.getElementById("monthsText"),this.daysTextElement=document.getElementById("daysText"),this.init()},(n=[{key:"getPluralText",value:function(t,e){return({year:["Год","Года","Лет"],month:["Месяц","Месяца","Месяцев"],day:["День","Дня","Дней"]}[e]||["единица","единицы","единиц"])[t%100>4&&t%100<20?2:[2,0,1,1,1,2][Math.min(t%10,5)]]}},{key:"calculateAge",value:function(){var t=new Date,e=t.getFullYear()-this.birthDate.getFullYear(),n=t.getMonth()-this.birthDate.getMonth(),a=t.getDate()-this.birthDate.getDate();return a<0&&(n--,a+=new Date(t.getFullYear(),t.getMonth(),0).getDate()),n<0&&(e--,n+=12),{years:e,months:n,days:a}}},{key:"updateDisplay",value:function(){var t=this.calculateAge();this.yearsElement.textContent=t.years,this.monthsElement.textContent=t.months,this.daysElement.textContent=t.days,this.yearsTextElement.textContent=this.getPluralText(t.years,"year"),this.monthsTextElement.textContent=this.getPluralText(t.months,"month"),this.daysTextElement.textContent=this.getPluralText(t.days,"day")}},{key:"init",value:function(){var t=this;isNaN(this.birthDate.getTime())?console.error("Некорректная дата рождения"):(this.updateDisplay(),this.interval=setInterval(function(){t.updateDisplay()},1e3))}},{key:"stop",value:function(){this.interval&&clearInterval(this.interval)}},{key:"setBirthDate",value:function(t){this.birthDate=new Date(t),isNaN(this.birthDate.getTime())?console.error("Некорректная дата рождения"):this.updateDisplay()}}])&&e(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();document.addEventListener("DOMContentLoaded",function(){if(!window.CARD_DATA_PLACEHOLDER)throw new Error("not found CARD DATA");if("jumble"===window.CARD_DATA_PLACEHOLDER.template){var t=window.CARD_DATA_PLACEHOLDER,e=(t.name,t.message,t.photo,t.dateStr);e&&new a(e);var n=document.querySelectorAll(".heartBtn");n&&n.forEach(function(t){t.addEventListener("click",function(t){for(var e=this.getBoundingClientRect(),n=this.parentElement,a=Math.floor(3*Math.random())+5,r=function(){var t=document.createElement("div");t.className="heart-animated";var a=(Math.random()-.5)*e.width,r=(Math.random()-.5)*e.height,o=80*(Math.random()-.5);t.style.setProperty("--start-x",a+"px"),t.style.setProperty("--start-y",r+"px"),t.style.setProperty("--offset-x",o+"px"),t.style.right="0px",t.style.top=-e.height+"px",n.appendChild(t),t.addEventListener("animationend",function(){t.remove()})},o=0;o<a;o++)r()})});var r=document.querySelector(".baloon-one");r&&r.addEventListener("animationend",function(){document.querySelector(".baloons").style.zIndex=-1,n[0].click()})}if("retrowave"===window.CARD_DATA_PLACEHOLDER.template){var o=document.getElementById("top");!function(){for(var t=0;t<250;t++){var e=document.createElement("div");e.setAttribute("class","stars"),e.style.left=100*Math.random()+"%",e.style.top=55*Math.random()+"%",o.appendChild(e)}}();var i=document.getElementById("sun");!function(){for(var t=0;t<16;t++){var e=document.createElement("div");e.setAttribute("class","sun"),e.style.animationDelay=-.5*t+++"s",i.appendChild(e)}}()}})})();
//# sourceMappingURL=main.ec24da844abf022c8b95.js.map